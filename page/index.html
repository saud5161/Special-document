<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نموذج إدخال البيانات</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            direction: rtl;
            text-align: right;
            margin: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #f9f9f9;
        }
        label {
            display: block;
            margin: 10px 0 5px;
        }
        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        datalist option {
            font-size: 12px;
            color: black;
        }
        datalist option:hover,
        datalist option:focus {
            background-color: white;
            color: black;
        }
    </style>
</head>
<body>

<div class="container">
    <form id="dataForm">
        <label for="hijriDate">التاريخ (هجري):</label>
        <input type="text" id="hijriDate" name="hijriDate" required>

        <label for="weekday">اليوم (أسبوعي):</label>
        <input type="text" id="weekday" name="weekday" required>

        <label for="department">المناوبة/ الشعبة:</label>
        <select id="department" name="department" required>
            <option value="">اختر المناوبة</option>
            <option value="أ">أ</option>
            <option value="ب">ب</option>
            <option value="ج">ج</option>
            <option value="د">د</option>
        </select>

        <label for="room">رقم الصالة:</label>
        <select id="room" name="room" required>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
        </select>

        <label for="name">الاسم:</label>
        <input type="text" id="name" name="name" list="nameList" required>
        <datalist id="nameList">
            <!-- ستتم إضافة الأسماء هنا بواسطة JavaScript -->
        </datalist>

        <label for="rank">الرتبة:</label>
        <select id="rank" name="rank" required>
            <option value="">اختر الرتبة</option>
            <option value="جندي">جندي</option>
            <option value="جندي اول">جندي اول</option>
            <option value="عريف">عريف</option>
            <option value="وكيل رقيب">وكيل رقيب</option>
            <option value="رقيب">رقيب</option>
            <option value="رقيب اول">رقيب اول</option>
            <option value="رئيس رقباء">رئيس رقباء</option>
        </select>

        <label for="officerName">اسم ضابط الصالة:</label>
        <input type="text" id="officerName" name="officerName" required list="officerNameList">
        <datalist id="officerNameList">
            <option value="فيصل منصور السعيد">
            <option value="عبد الرحمن راشد البنية">
            <option value="معاذ ظفر ال دريس">
            <option value="عادل بنيدر المطيري">
            <option value="ماجد عبدالعزيز السحيم">
            <option value="فيصل عبد الاله الهرف">
            <option value="احمد علي العمري">
            <option value="الريان عبدالله الهويمل">
            <option value="تركي سعد المطيري">
            <option value="صالح ابراهيم السالم">
            <option value="عبدالله سعد المطيري">
            <option value="سعد عبدالعزيز الخشلان">
            <option value="حسن عايض القحطاني">
            <option value="جابر فتنان الحربي">
            <option value="عبدالعزيز سعيد القحطاني">
            <option value="عبدالله محمد البقمي">
            <option value="عبدالله عويض الحارثي">
            <option value="فايز سعيد الشهراني">
            <option value="رامي عوض الله السلمي">
            <option value="اسامه راشد المشوح">
            <option value="سامي عاشور الزهراني">
            <option value="مترك مهدي السبيعي">
            <option value="خالد عبدالله الحسين">
            <option value="سعود فراج السهلي">
            <option value="عبد الرحمن محمد العوشن">
            <option value="سعود محمد ال جبل">
            <option value="حمود علي الباهلي">
            <option value="فيصل موسى المطيري">
            <option value="فيصل سعد الضفيان">
            <option value="عبدالاله ضيف الله بن عميض">
            <option value="مالك احمد العنقري">
            <option value="عبدالله عوض المالكي">
            <option value="مهند فهد ال جلده">
            <option value="تركي عبدالله الزهراني">
            <option value="عبدالعزيز عبدالله الحارثي">
            <option value="عبدالعزيز عبدالله ال مطلق">
            <option value="صالح محمد الحميدان">
        </datalist>

        <label for="officerRank">رتبة ضابط الصالة:</label>
        <input type="text" id="officerRank" name="officerRank" required list="officerRankList">
        <datalist id="officerRankList">
            <option value="ملازم">
            <option value="ملازم اول">
            <option value="نقيب">
            <option value="رائد">
            <option value="مقدم">
            <option value="عقيد">
        </datalist>

        <label for="outgoingNumber">رقم الصادر:</label>
        <input type="text" id="outgoingNumber" name="outgoingNumber" required>

        <button type="button" onclick="submitForm()">تنفيذ</button>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var today = new Date();
        var options = { year: 'numeric', month: '2-digit', day: '2-digit' };
        var formattedDate = today.toLocaleDateString('ar-SA', options).replace(/\d+/g, function(d) {
            return ('0' + d).slice(-2);
        }).replace(/\/(\d{2})\//g, '/$1/');
        document.getElementById("hijriDate").value = toArabicNumbers(formattedDate);
        document.getElementById("weekday").value = today.toLocaleDateString('ar-SA', { weekday: 'long' });

        // إضافة الأسماء بناءً على المناوبة المحددة
        document.getElementById("department").addEventListener("change", function() {
            updateNames(this.value);
        });
    });

    function toArabicNumbers(str) {
        return str.replace(/\d/g, d => '٠١٢٣٤٥٦٧٨٩'[d]);
    }

    function updateNames(department) {
        const nameList = document.getElementById("nameList");
        nameList.innerHTML = ''; // مسح الخيارات الحالية

        const namesA = [
            "حسين محمد سعود القحطاني", "عائشة سعد الشهري", "فايز غازي عجب الحربي",
            "ايمان سعيد العلياني", "بلغيث علي محمد البارقي", "نوره عوض الحربي",
            "أثير سعيد الشهراني", "فاطمة عبدالرحمن الشهري", "علياء منير المطيري",
            "فالح مبارك حضرم الدوسري", "عبدالله هادي سابر آل فهاد", "سعيد صالح شاجع العجمي",
            "أفراح نهار العنزي", "خالد عبدالكريم محمد الزهراني", "وداد محمد سويعد المطيري",
            "عائشة خالد المطيري", "جواهر إبراهيم الحميد", "دلال عمر المطيري",
            "علي عايض حسن العمري", "سعد سعيد القرني", "ماجد عبدالعزيز العتيبي",
            "مزنه فائز الاكلبي", "ايمان فهد بن ثنيان", "نوال ناصر الشهراني",
            "ثاري اديهم ثاري الرشيدي", "سلمان محمد احمد الزهراني", "غرام عائض الشمراني",
            "انوار عبدالله الحجيلان", "حنان سعد القحطاني", "خالد عبدالرحمن الشهري"
        ];

        const namesB = [
            "سعد عتيوي حبيب الرشيدي", "فهد رابح عويش المطيري", "نايف ناصر عويض العتيبي",
            "عيسى وجدان محمد", "فاتن عبيد الحربي", "هاله علي شعران",
            "سحر سليم العطوي", "أحلام سلطان الحربي", "عبدالمحسن محمد الشراري",
            "مشل سعود مشل التمياط", "عبدالقادر محمد سيد الشهراني", "مشعل مفرح هليل الرشيدي",
            "وداد محمد منور المطيري", "منى فهد العتيبي", "جواهر سفر الغامدي",
            "الهام أحمد الاحمري", "عبير ماجد العوفي", "يوسف زياد يوسف البيشي",
            "ابتسام حميد الحميد", "الهنوف إبراهيم الرميح", "أمل سالم الصيعري",
            "نجوى أحمد الزهراني", "نوف احمد السريحي", "منيرة صالح القنصعي",
            "أمجاد ناجي الدلبحي", "امل موسى العتيبي", "جسار مفرح العتيبي",
            "محمد عواض سارح القرني", "عبدالكريم صالح المطيري", "بدور سعيد الزهراني"
        ];

        const namesC = [
            "مناحي هتاش منير المرشدي", "تركي سعد المطيري", "عيد محمد عيد القرني",
            "عبدالله يحي عبدان الزهراني", "عيسى حمد جعيبر العنزي", "محمد علي جراد الشهري",
            "فهد مبارك حضرم الدوسري", "عبد الرحمن سند عتيق الشراري", "سلطان وهق علي السهلي",
            "عبد العزيز طريخم خمخم العنزي", "سعود محمد سعود الحجي", "ظافر عايض سالم العمري",
            "محسن مسعود مهدي علي", "عبد العزيز احمد علي الشهراني", "مسفر مترك مسفر الدوسري",
            "عبد العزيز عبيد طامي الحربي"
        ];

        const namesD = [
            "عبدالرحمن تركي الشيباني", "رامي شقير المطيري", "محمد تميم مضحي الدوسري",
            "محمد ضاوي المطيري", "سعود عبدالله تركي السبيعي", "غنيه ظافر سهلي",
            "طلال محمد بخيت العتيبي", "شايع عبدالله غانم القحطاني", "سلطان عبدالله نفوع الرشيدي",
            "أريج يحيى معافا", "ابتهال معيض القحطاني", "ريم مطلق البقمي",
            "فاطمة علي الحلافي", "خلود محمد الخثعمي", "مصعب حسن سعيد ال علوان",
            "عبدالله ضحيان هجود الحارثي", "معاذ علي محمد الحبيب", "مطلق فايز مطلق السلولي",
            "عبدالله علي أحمد القرني", "عفاف سعود الزنيتان", "شروق نزال الحربي",
            "نرجس عيسى الدوسري", "مريم عبدالله الزهراني", "بشائر محمد الفيفي",
            "منيفه صويلح العتيبي", "محمد معيوض حمود العتيبي", "صالح محمد الطوب",
            "عيسى حمد جعيبر العنزي", "ناصر مفرح العتيبي", "غادة ناصر ال مرعي"
        ];

        let names;
        switch (department) {
            case 'أ':
                names = namesA;
                break;
            case 'ب':
                names = namesB;
                break;
            case 'ج':
                names = namesC;
                break;
            case 'د':
                names = namesD;
                break;
            default:
                names = [];
        }

        names.forEach(name => {
            const option = document.createElement("option");
            option.value = name;
            nameList.appendChild(option);
        });
    }

    function submitForm() {
        const hijriDate = toArabicNumbers(document.getElementById('hijriDate').value);
        const weekday = document.getElementById('weekday').value;
        const department = document.getElementById('department').value;
        const room = document.getElementById('room').value;
        const name = document.getElementById('name').value;
        const rank = document.getElementById('rank').value;
        const officerName = document.getElementById('officerName').value;
        const officerRank = document.getElementById('officerRank').value;
        const outgoingNumber = document.getElementById('outgoingNumber').value;

        const fullOutgoingNumber = `${outgoingNumber} م ${department} سفر ${room}`;

        const url = `result.html?hijriDate=${encodeURIComponent(hijriDate)}&weekday=${encodeURIComponent(weekday)}&department=${encodeURIComponent(department)}&room=${encodeURIComponent(room)}&name=${encodeURIComponent(name)}&rank=${encodeURIComponent(rank)}&officerName=${encodeURIComponent(officerName)}&officerRank=${encodeURIComponent(officerRank)}&outgoingNumber=${encodeURIComponent(fullOutgoingNumber)}`;

        window.location.href = url;
    }

    document.querySelectorAll('input[type="text"]').forEach(input => {
        input.addEventListener('input', function() {
            this.value = toArabicNumbers(this.value);
        });
    });
</script>

</body>
</html>
